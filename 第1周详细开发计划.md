# MiniFlow ç¬¬1å‘¨è¯¦ç»†å¼€å‘è®¡åˆ’

## ğŸ“‹ å‘¨ç›®æ ‡æ¦‚è§ˆ

**å¼€å‘å‘¨æœŸ**: ç¬¬1å‘¨ (5å¤© Ã— 8å°æ—¶ = 40å°æ—¶)  
**ä¸»è¦ç›®æ ‡**: æ­å»ºå®Œæ•´çš„å¼€å‘ç¯å¢ƒå’Œé¡¹ç›®éª¨æ¶ï¼Œå®ç°åŸºç¡€çš„ç”¨æˆ·ç®¡ç†åŠŸèƒ½  
**äº¤ä»˜æˆæœ**: å¯è¿è¡Œçš„å‰åç«¯é¡¹ç›®ï¼Œå…·å¤‡ç”¨æˆ·æ³¨å†Œã€ç™»å½•åŠŸèƒ½

---

## ğŸ“… æ¯æ—¥å¼€å‘è®¡åˆ’

### Day 1 (Monday) - 8å°æ—¶
**ä¸»é¢˜**: é¡¹ç›®åˆå§‹åŒ–å’Œç¯å¢ƒæ­å»º

#### ä¸Šåˆ (4å°æ—¶)
**9:00-11:00 åç«¯é¡¹ç›®åˆå§‹åŒ– (2å°æ—¶)**
```bash
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„ (30åˆ†é’Ÿ)
mkdir -p miniflow/{backend,frontend,docs,scripts}
cd miniflow/backend

# 2. Goæ¨¡å—åˆå§‹åŒ– (30åˆ†é’Ÿ)
go mod init miniflow
go get github.com/labstack/echo/v4
go get github.com/labstack/echo/v4/middleware
go get gorm.io/gorm
go get gorm.io/driver/mysql
go get github.com/golang-jwt/jwt/v4
go get github.com/spf13/viper
go get go.uber.org/zap

# 3. åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„ (60åˆ†é’Ÿ)
mkdir -p {cmd/server,internal/{handler,service,repository,model},pkg/{config,database,logger,utils},config}
```

**é¡¹ç›®ç»“æ„åˆ›å»º**:
```
backend/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ handler/
â”‚   â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ repository/
â”‚   â””â”€â”€ model/
â”œâ”€â”€ pkg/
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ logger/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yaml
â”œâ”€â”€ go.mod
â””â”€â”€ go.sum
```

**11:00-13:00 åŸºç¡€é…ç½®æ–‡ä»¶ (2å°æ—¶)**
- åˆ›å»º `config/config.yaml` é…ç½®æ–‡ä»¶
- å®ç° `pkg/config/config.go` é…ç½®ç®¡ç†
- åˆ›å»º `pkg/logger/logger.go` æ—¥å¿—é…ç½®
- ç¼–å†™ `cmd/server/main.go` åº”ç”¨å…¥å£

#### ä¸‹åˆ (4å°æ—¶)
**14:00-16:00 æ•°æ®åº“è¿æ¥é…ç½® (2å°æ—¶)**
- å®ç° `pkg/database/database.go` æ•°æ®åº“è¿æ¥
- åˆ›å»º `internal/model/base.go` åŸºç¡€æ¨¡å‹
- å®ç°æ•°æ®åº“è¿æ¥æ± é…ç½®
- æµ‹è¯•æ•°æ®åº“è¿æ¥

**16:00-18:00 Dockerç¯å¢ƒé…ç½® (2å°æ—¶)**
- åˆ›å»º `Dockerfile` å’Œ `docker-compose.yml`
- é…ç½®MySQLæ•°æ®åº“å®¹å™¨
- é…ç½®Redisç¼“å­˜å®¹å™¨
- æµ‹è¯•å®¹å™¨åŒ–ç¯å¢ƒ

#### ğŸ“ Day 1 äº¤ä»˜æ¸…å•
- [ ] Goé¡¹ç›®ç»“æ„å®Œæ•´åˆ›å»º
- [ ] åŸºç¡€ä¾èµ–åŒ…å®‰è£…å®Œæˆ
- [ ] é…ç½®ç®¡ç†ç³»ç»Ÿå®ç°
- [ ] æ•°æ®åº“è¿æ¥é…ç½®å®Œæˆ
- [ ] Dockerå¼€å‘ç¯å¢ƒå¯ç”¨

---

### Day 2 (Tuesday) - 8å°æ—¶
**ä¸»é¢˜**: æ•°æ®åº“æ¨¡å‹è®¾è®¡å’Œç”¨æˆ·ç®¡ç†åç«¯

#### ä¸Šåˆ (4å°æ—¶)
**9:00-11:00 GORMæ¨¡å‹å®šä¹‰ (2å°æ—¶)**

åˆ›å»º `internal/model/base.go`:
```go
package model

import (
    "time"
    "gorm.io/gorm"
)

type BaseModel struct {
    ID        uint           `gorm:"primaryKey;autoIncrement" json:"id"`
    CreatedAt time.Time      `gorm:"not null;index" json:"created_at"`
    UpdatedAt time.Time      `gorm:"not null" json:"updated_at"`
    DeletedAt gorm.DeletedAt `gorm:"index" json:"deleted_at,omitempty"`
}
```

åˆ›å»º `internal/model/user.go`:
```go
package model

import "time"

type User struct {
    BaseModel
    Username    string     `gorm:"type:varchar(100);not null;uniqueIndex" json:"username"`
    Password    string     `gorm:"type:varchar(255);not null" json:"-"`
    DisplayName string     `gorm:"type:varchar(255)" json:"display_name"`
    Email       string     `gorm:"type:varchar(255);uniqueIndex" json:"email"`
    Phone       string     `gorm:"type:varchar(50)" json:"phone"`
    Role        string     `gorm:"type:varchar(50);not null;default:user;index" json:"role"`
    Status      string     `gorm:"type:varchar(20);not null;default:active;index" json:"status"`
    Avatar      string     `gorm:"type:varchar(500)" json:"avatar"`
    LastLoginAt *time.Time `json:"last_login_at"`
}

func (User) TableName() string {
    return "users"
}
```

**11:00-13:00 æ•°æ®åº“è¿ç§»åŠŸèƒ½ (2å°æ—¶)**
- å®ç°è‡ªåŠ¨è¿ç§»åŠŸèƒ½
- åˆ›å»ºæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- å®ç°åŸºç¡€ç´¢å¼•åˆ›å»º
- æµ‹è¯•æ•°æ®åº“è¡¨åˆ›å»º

#### ä¸‹åˆ (4å°æ—¶)
**14:00-16:00 ç”¨æˆ·Repositoryå±‚ (2å°æ—¶)**

åˆ›å»º `internal/repository/user.go`:
```go
package repository

import (
    "miniflow/internal/model"
    "gorm.io/gorm"
)

type UserRepository struct {
    db *gorm.DB
}

func NewUserRepository(db *gorm.DB) *UserRepository {
    return &UserRepository{db: db}
}

func (r *UserRepository) Create(user *model.User) error {
    return r.db.Create(user).Error
}

func (r *UserRepository) GetByUsername(username string) (*model.User, error) {
    var user model.User
    err := r.db.Where("username = ? AND status = ?", username, "active").First(&user).Error
    if err != nil {
        return nil, err
    }
    return &user, nil
}

func (r *UserRepository) GetByID(id uint) (*model.User, error) {
    var user model.User
    err := r.db.First(&user, id).Error
    if err != nil {
        return nil, err
    }
    return &user, nil
}

func (r *UserRepository) Update(user *model.User) error {
    return r.db.Save(user).Error
}
```

**16:00-18:00 ç”¨æˆ·Serviceå±‚ (2å°æ—¶)**

åˆ›å»º `internal/service/user.go`:
```go
package service

import (
    "errors"
    "time"
    "miniflow/internal/model"
    "miniflow/internal/repository"
    "miniflow/pkg/utils"
    "golang.org/x/crypto/bcrypt"
)

type UserService struct {
    userRepo *repository.UserRepository
}

func NewUserService(userRepo *repository.UserRepository) *UserService {
    return &UserService{userRepo: userRepo}
}

func (s *UserService) Register(req *RegisterRequest) (*model.User, error) {
    // æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å­˜åœ¨
    existingUser, _ := s.userRepo.GetByUsername(req.Username)
    if existingUser != nil {
        return nil, errors.New("ç”¨æˆ·åå·²å­˜åœ¨")
    }

    // å¯†ç åŠ å¯†
    hashedPassword, err := bcrypt.GenerateFromPassword([]byte(req.Password), bcrypt.DefaultCost)
    if err != nil {
        return nil, err
    }

    // åˆ›å»ºç”¨æˆ·
    user := &model.User{
        Username:    req.Username,
        Password:    string(hashedPassword),
        DisplayName: req.DisplayName,
        Email:       req.Email,
        Role:        "user",
        Status:      "active",
    }

    err = s.userRepo.Create(user)
    if err != nil {
        return nil, err
    }

    return user, nil
}

func (s *UserService) Login(username, password string) (*model.User, string, error) {
    user, err := s.userRepo.GetByUsername(username)
    if err != nil {
        return nil, "", errors.New("ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯")
    }

    // éªŒè¯å¯†ç 
    err = bcrypt.CompareHashAndPassword([]byte(user.Password), []byte(password))
    if err != nil {
        return nil, "", errors.New("ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯")
    }

    // ç”ŸæˆJWT token
    token, err := utils.GenerateJWT(user.ID, user.Username)
    if err != nil {
        return nil, "", err
    }

    // æ›´æ–°æœ€åç™»å½•æ—¶é—´
    now := time.Now()
    user.LastLoginAt = &now
    s.userRepo.Update(user)

    return user, token, nil
}

type RegisterRequest struct {
    Username    string `json:"username" validate:"required,min=3,max=50"`
    Password    string `json:"password" validate:"required,min=6"`
    DisplayName string `json:"display_name"`
    Email       string `json:"email" validate:"email"`
}

type LoginRequest struct {
    Username string `json:"username" validate:"required"`
    Password string `json:"password" validate:"required"`
}
```

#### ğŸ“ Day 2 äº¤ä»˜æ¸…å•
- [ ] ç”¨æˆ·æ•°æ®æ¨¡å‹å®Œæˆ
- [ ] æ•°æ®åº“è¿ç§»åŠŸèƒ½å®ç°
- [ ] ç”¨æˆ·Repositoryå±‚å®Œæˆ
- [ ] ç”¨æˆ·Serviceå±‚ä¸šåŠ¡é€»è¾‘å®ç°

---

### Day 3 (Wednesday) - 8å°æ—¶
**ä¸»é¢˜**: ç”¨æˆ·ç®¡ç†APIå’ŒJWTè®¤è¯

#### ä¸Šåˆ (4å°æ—¶)
**9:00-11:00 JWTå·¥å…·ç±»å®ç° (2å°æ—¶)**

åˆ›å»º `pkg/utils/jwt.go`:
```go
package utils

import (
    "errors"
    "time"
    "github.com/golang-jwt/jwt/v4"
)

var jwtSecret = []byte("your-secret-key") // å®é™…ä½¿ç”¨ä¸­åº”ä»é…ç½®è¯»å–

type Claims struct {
    UserID   uint   `json:"user_id"`
    Username string `json:"username"`
    jwt.RegisteredClaims
}

func GenerateJWT(userID uint, username string) (string, error) {
    claims := Claims{
        UserID:   userID,
        Username: username,
        RegisteredClaims: jwt.RegisteredClaims{
            ExpiresAt: jwt.NewNumericDate(time.Now().Add(24 * time.Hour)),
            IssuedAt:  jwt.NewNumericDate(time.Now()),
            NotBefore: jwt.NewNumericDate(time.Now()),
        },
    }

    token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)
    return token.SignedString(jwtSecret)
}

func ParseJWT(tokenString string) (*Claims, error) {
    token, err := jwt.ParseWithClaims(tokenString, &Claims{}, func(token *jwt.Token) (interface{}, error) {
        return jwtSecret, nil
    })

    if err != nil {
        return nil, err
    }

    if claims, ok := token.Claims.(*Claims); ok && token.Valid {
        return claims, nil
    }

    return nil, errors.New("invalid token")
}
```

**11:00-13:00 ä¸­é—´ä»¶å®ç° (2å°æ—¶)**

åˆ›å»º `internal/middleware/auth.go`:
```go
package middleware

import (
    "net/http"
    "strings"
    "miniflow/pkg/utils"
    "github.com/labstack/echo/v4"
)

func JWTAuth() echo.MiddlewareFunc {
    return func(next echo.HandlerFunc) echo.HandlerFunc {
        return func(c echo.Context) error {
            authHeader := c.Request().Header.Get("Authorization")
            if authHeader == "" {
                return c.JSON(http.StatusUnauthorized, map[string]string{"error": "ç¼ºå°‘è®¤è¯ä¿¡æ¯"})
            }

            tokenString := strings.Replace(authHeader, "Bearer ", "", 1)
            claims, err := utils.ParseJWT(tokenString)
            if err != nil {
                return c.JSON(http.StatusUnauthorized, map[string]string{"error": "æ— æ•ˆçš„è®¤è¯ä¿¡æ¯"})
            }

            c.Set("user_id", claims.UserID)
            c.Set("username", claims.Username)
            return next(c)
        }
    }
}

func Logger() echo.MiddlewareFunc {
    return echo.Logger()
}

func Recover() echo.MiddlewareFunc {
    return echo.Recover()
}

func CORS() echo.MiddlewareFunc {
    return echo.CORS()
}
```

#### ä¸‹åˆ (4å°æ—¶)
**14:00-17:00 ç”¨æˆ·Handlerå±‚å®ç° (3å°æ—¶)**

åˆ›å»º `internal/handler/user.go`:
```go
package handler

import (
    "net/http"
    "miniflow/internal/service"
    "github.com/labstack/echo/v4"
    "github.com/go-playground/validator/v10"
)

type UserHandler struct {
    userService *service.UserService
    validator   *validator.Validate
}

func NewUserHandler(userService *service.UserService) *UserHandler {
    return &UserHandler{
        userService: userService,
        validator:   validator.New(),
    }
}

func (h *UserHandler) Register(c echo.Context) error {
    var req service.RegisterRequest
    if err := c.Bind(&req); err != nil {
        return c.JSON(http.StatusBadRequest, map[string]string{"error": "è¯·æ±‚å‚æ•°é”™è¯¯"})
    }

    if err := h.validator.Struct(&req); err != nil {
        return c.JSON(http.StatusBadRequest, map[string]string{"error": "å‚æ•°éªŒè¯å¤±è´¥"})
    }

    user, err := h.userService.Register(&req)
    if err != nil {
        return c.JSON(http.StatusBadRequest, map[string]string{"error": err.Error()})
    }

    return c.JSON(http.StatusCreated, map[string]interface{}{
        "message": "æ³¨å†ŒæˆåŠŸ",
        "user":    user,
    })
}

func (h *UserHandler) Login(c echo.Context) error {
    var req service.LoginRequest
    if err := c.Bind(&req); err != nil {
        return c.JSON(http.StatusBadRequest, map[string]string{"error": "è¯·æ±‚å‚æ•°é”™è¯¯"})
    }

    if err := h.validator.Struct(&req); err != nil {
        return c.JSON(http.StatusBadRequest, map[string]string{"error": "å‚æ•°éªŒè¯å¤±è´¥"})
    }

    user, token, err := h.userService.Login(req.Username, req.Password)
    if err != nil {
        return c.JSON(http.StatusUnauthorized, map[string]string{"error": err.Error()})
    }

    return c.JSON(http.StatusOK, map[string]interface{}{
        "message": "ç™»å½•æˆåŠŸ",
        "user":    user,
        "token":   token,
    })
}

func (h *UserHandler) GetProfile(c echo.Context) error {
    userID := c.Get("user_id").(uint)
    // è¿™é‡Œå¯ä»¥è°ƒç”¨serviceè·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯
    return c.JSON(http.StatusOK, map[string]interface{}{
        "user_id": userID,
        "message": "è·å–ç”¨æˆ·ä¿¡æ¯æˆåŠŸ",
    })
}
```

**17:00-18:00 è·¯ç”±é…ç½® (1å°æ—¶)**

åˆ›å»º `internal/handler/router.go`:
```go
package handler

import (
    "miniflow/internal/middleware"
    "github.com/labstack/echo/v4"
)

func SetupRoutes(e *echo.Echo, userHandler *UserHandler) {
    // åŸºç¡€ä¸­é—´ä»¶
    e.Use(middleware.Logger())
    e.Use(middleware.Recover())
    e.Use(middleware.CORS())

    // APIè·¯ç”±ç»„
    api := e.Group("/api/v1")

    // å…¬å¼€è·¯ç”±
    auth := api.Group("/auth")
    auth.POST("/register", userHandler.Register)
    auth.POST("/login", userHandler.Login)

    // éœ€è¦è®¤è¯çš„è·¯ç”±
    protected := api.Group("/user")
    protected.Use(middleware.JWTAuth())
    protected.GET("/profile", userHandler.GetProfile)

    // å¥åº·æ£€æŸ¥
    e.GET("/health", func(c echo.Context) error {
        return c.JSON(200, map[string]string{"status": "ok"})
    })
}
```

#### ğŸ“ Day 3 äº¤ä»˜æ¸…å•
- [ ] JWTè®¤è¯å·¥å…·å®ç°
- [ ] è®¤è¯ä¸­é—´ä»¶å®Œæˆ
- [ ] ç”¨æˆ·Handlerå±‚å®ç°
- [ ] è·¯ç”±é…ç½®å®Œæˆ
- [ ] APIæ¥å£å¯æ­£å¸¸è°ƒç”¨

---

### Day 4 (Thursday) - 8å°æ—¶
**ä¸»é¢˜**: å‰ç«¯é¡¹ç›®æ­å»ºå’Œè®¤è¯ç³»ç»Ÿ

#### ä¸Šåˆ (4å°æ—¶)
**9:00-11:00 Reacté¡¹ç›®åˆå§‹åŒ– (2å°æ—¶)**

```bash
cd ../frontend
npm create vite@latest . -- --template react-ts
npm install

# å®‰è£…ä¾èµ–
npm install antd @ant-design/icons
npm install axios
npm install react-router-dom
npm install zustand
npm install @types/node

# å¼€å‘ä¾èµ–
npm install -D @types/react @types/react-dom
npm install -D eslint @typescript-eslint/eslint-plugin
npm install -D prettier eslint-config-prettier
```

**é¡¹ç›®ç»“æ„åˆ›å»º**:
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ process/
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ store/
â”‚   â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ App.tsx
â”‚   â””â”€â”€ main.tsx
â”œâ”€â”€ public/
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

**11:00-13:00 åŸºç¡€é…ç½®å’Œç±»å‹å®šä¹‰ (2å°æ—¶)**

åˆ›å»º `src/types/user.ts`:
```typescript
export interface User {
  id: number;
  username: string;
  display_name: string;
  email: string;
  phone?: string;
  role: string;
  status: string;
  avatar?: string;
  last_login_at?: string;
  created_at: string;
  updated_at: string;
}

export interface LoginRequest {
  username: string;
  password: string;
}

export interface RegisterRequest {
  username: string;
  password: string;
  display_name?: string;
  email?: string;
}

export interface AuthResponse {
  message: string;
  user: User;
  token: string;
}
```

åˆ›å»º `src/utils/http.ts`:
```typescript
import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';

class HttpClient {
  private instance: AxiosInstance;

  constructor() {
    this.instance = axios.create({
      baseURL: 'http://localhost:8080/api/v1',
      timeout: 10000,
      headers: {
        'Content-Type': 'application/json',
      },
    });

    this.setupInterceptors();
  }

  private setupInterceptors() {
    // è¯·æ±‚æ‹¦æˆªå™¨
    this.instance.interceptors.request.use(
      (config) => {
        const token = localStorage.getItem('token');
        if (token) {
          config.headers.Authorization = `Bearer ${token}`;
        }
        return config;
      },
      (error) => {
        return Promise.reject(error);
      }
    );

    // å“åº”æ‹¦æˆªå™¨
    this.instance.interceptors.response.use(
      (response: AxiosResponse) => {
        return response;
      },
      (error) => {
        if (error.response?.status === 401) {
          localStorage.removeItem('token');
          localStorage.removeItem('user');
          window.location.href = '/login';
        }
        return Promise.reject(error);
      }
    );
  }

  public get<T = any>(url: string, config?: AxiosRequestConfig): Promise<AxiosResponse<T>> {
    return this.instance.get(url, config);
  }

  public post<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<AxiosResponse<T>> {
    return this.instance.post(url, data, config);
  }

  public put<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<AxiosResponse<T>> {
    return this.instance.put(url, data, config);
  }

  public delete<T = any>(url: string, config?: AxiosRequestConfig): Promise<AxiosResponse<T>> {
    return this.instance.delete(url, config);
  }
}

export const http = new HttpClient();
```

#### ä¸‹åˆ (4å°æ—¶)
**14:00-16:00 ç”¨æˆ·çŠ¶æ€ç®¡ç† (2å°æ—¶)**

åˆ›å»º `src/store/userStore.ts`:
```typescript
import { create } from 'zustand';
import { persist } from 'zustand/middleware';
import { User, LoginRequest, RegisterRequest, AuthResponse } from '../types/user';
import { userApi } from '../services/userApi';

interface UserState {
  user: User | null;
  token: string | null;
  loading: boolean;
  login: (data: LoginRequest) => Promise<void>;
  register: (data: RegisterRequest) => Promise<void>;
  logout: () => void;
  setUser: (user: User) => void;
  setToken: (token: string) => void;
}

export const useUserStore = create<UserState>()(
  persist(
    (set, get) => ({
      user: null,
      token: null,
      loading: false,

      login: async (data: LoginRequest) => {
        set({ loading: true });
        try {
          const response = await userApi.login(data);
          const { user, token } = response.data;
          
          set({ user, token, loading: false });
          localStorage.setItem('token', token);
        } catch (error) {
          set({ loading: false });
          throw error;
        }
      },

      register: async (data: RegisterRequest) => {
        set({ loading: true });
        try {
          await userApi.register(data);
          set({ loading: false });
        } catch (error) {
          set({ loading: false });
          throw error;
        }
      },

      logout: () => {
        set({ user: null, token: null });
        localStorage.removeItem('token');
        localStorage.removeItem('user');
      },

      setUser: (user: User) => set({ user }),
      setToken: (token: string) => set({ token }),
    }),
    {
      name: 'user-store',
      partialize: (state) => ({ user: state.user, token: state.token }),
    }
  )
);
```

**16:00-18:00 ç”¨æˆ·APIæœåŠ¡ (2å°æ—¶)**

åˆ›å»º `src/services/userApi.ts`:
```typescript
import { http } from '../utils/http';
import { LoginRequest, RegisterRequest, AuthResponse, User } from '../types/user';

export const userApi = {
  login: (data: LoginRequest) => {
    return http.post<AuthResponse>('/auth/login', data);
  },

  register: (data: RegisterRequest) => {
    return http.post<{ message: string; user: User }>('/auth/register', data);
  },

  getProfile: () => {
    return http.get<{ user: User }>('/user/profile');
  },
};
```

#### ğŸ“ Day 4 äº¤ä»˜æ¸…å•
- [ ] React + TypeScripté¡¹ç›®æ­å»ºå®Œæˆ
- [ ] åŸºç¡€ä¾èµ–å®‰è£…å®Œæˆ
- [ ] HTTPå®¢æˆ·ç«¯å·¥å…·å®ç°
- [ ] ç”¨æˆ·çŠ¶æ€ç®¡ç†å®ç°
- [ ] ç”¨æˆ·APIæœåŠ¡å®ç°

---

### Day 5 (Friday) - 8å°æ—¶
**ä¸»é¢˜**: å‰ç«¯è®¤è¯ç•Œé¢å’ŒåŸºç¡€å¸ƒå±€

#### ä¸Šåˆ (4å°æ—¶)
**9:00-11:00 ç™»å½•æ³¨å†Œé¡µé¢ (2å°æ—¶)**

åˆ›å»º `src/pages/auth/Login.tsx`:
```typescript
import React from 'react';
import { Form, Input, Button, Card, message } from 'antd';
import { UserOutlined, LockOutlined } from '@ant-design/icons';
import { Link, useNavigate } from 'react-router-dom';
import { useUserStore } from '../../store/userStore';
import { LoginRequest } from '../../types/user';

const Login: React.FC = () => {
  const navigate = useNavigate();
  const { login, loading } = useUserStore();

  const onFinish = async (values: LoginRequest) => {
    try {
      await login(values);
      message.success('ç™»å½•æˆåŠŸ');
      navigate('/dashboard');
    } catch (error: any) {
      message.error(error.response?.data?.error || 'ç™»å½•å¤±è´¥');
    }
  };

  return (
    <div className="login-container">
      <Card title="ç™»å½•" className="login-card">
        <Form
          name="login"
          onFinish={onFinish}
          autoComplete="off"
          size="large"
        >
          <Form.Item
            name="username"
            rules={[{ required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·å!' }]}
          >
            <Input
              prefix={<UserOutlined />}
              placeholder="ç”¨æˆ·å"
            />
          </Form.Item>

          <Form.Item
            name="password"
            rules={[{ required: true, message: 'è¯·è¾“å…¥å¯†ç !' }]}
          >
            <Input.Password
              prefix={<LockOutlined />}
              placeholder="å¯†ç "
            />
          </Form.Item>

          <Form.Item>
            <Button
              type="primary"
              htmlType="submit"
              loading={loading}
              block
            >
              ç™»å½•
            </Button>
          </Form.Item>

          <div className="auth-links">
            è¿˜æ²¡æœ‰è´¦å·? <Link to="/register">ç«‹å³æ³¨å†Œ</Link>
          </div>
        </Form>
      </Card>
    </div>
  );
};

export default Login;
```

åˆ›å»º `src/pages/auth/Register.tsx`:
```typescript
import React from 'react';
import { Form, Input, Button, Card, message } from 'antd';
import { UserOutlined, LockOutlined, MailOutlined } from '@ant-design/icons';
import { Link, useNavigate } from 'react-router-dom';
import { useUserStore } from '../../store/userStore';
import { RegisterRequest } from '../../types/user';

const Register: React.FC = () => {
  const navigate = useNavigate();
  const { register, loading } = useUserStore();

  const onFinish = async (values: RegisterRequest) => {
    try {
      await register(values);
      message.success('æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•');
      navigate('/login');
    } catch (error: any) {
      message.error(error.response?.data?.error || 'æ³¨å†Œå¤±è´¥');
    }
  };

  return (
    <div className="register-container">
      <Card title="æ³¨å†Œ" className="register-card">
        <Form
          name="register"
          onFinish={onFinish}
          autoComplete="off"
          size="large"
        >
          <Form.Item
            name="username"
            rules={[
              { required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·å!' },
              { min: 3, message: 'ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦!' }
            ]}
          >
            <Input
              prefix={<UserOutlined />}
              placeholder="ç”¨æˆ·å"
            />
          </Form.Item>

          <Form.Item
            name="display_name"
          >
            <Input
              prefix={<UserOutlined />}
              placeholder="æ˜¾ç¤ºåç§°"
            />
          </Form.Item>

          <Form.Item
            name="email"
            rules={[
              { type: 'email', message: 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€!' }
            ]}
          >
            <Input
              prefix={<MailOutlined />}
              placeholder="é‚®ç®±"
            />
          </Form.Item>

          <Form.Item
            name="password"
            rules={[
              { required: true, message: 'è¯·è¾“å…¥å¯†ç !' },
              { min: 6, message: 'å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦!' }
            ]}
          >
            <Input.Password
              prefix={<LockOutlined />}
              placeholder="å¯†ç "
            />
          </Form.Item>

          <Form.Item
            name="confirm_password"
            dependencies={['password']}
            rules={[
              { required: true, message: 'è¯·ç¡®è®¤å¯†ç !' },
              ({ getFieldValue }) => ({
                validator(_, value) {
                  if (!value || getFieldValue('password') === value) {
                    return Promise.resolve();
                  }
                  return Promise.reject(new Error('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´!'));
                },
              }),
            ]}
          >
            <Input.Password
              prefix={<LockOutlined />}
              placeholder="ç¡®è®¤å¯†ç "
            />
          </Form.Item>

          <Form.Item>
            <Button
              type="primary"
              htmlType="submit"
              loading={loading}
              block
            >
              æ³¨å†Œ
            </Button>
          </Form.Item>

          <div className="auth-links">
            å·²æœ‰è´¦å·? <Link to="/login">ç«‹å³ç™»å½•</Link>
          </div>
        </Form>
      </Card>
    </div>
  );
};

export default Register;
```

**11:00-13:00 ä¸»å¸ƒå±€ç»„ä»¶ (2å°æ—¶)**

åˆ›å»º `src/components/layout/MainLayout.tsx`:
```typescript
import React from 'react';
import { Layout, Menu, Dropdown, Avatar, Button } from 'antd';
import {
  UserOutlined,
  SettingOutlined,
  LogoutOutlined,
  MenuFoldOutlined,
  MenuUnfoldOutlined,
  DashboardOutlined,
  ApartmentOutlined,
  CheckSquareOutlined,
} from '@ant-design/icons';
import { useNavigate, useLocation, Outlet } from 'react-router-dom';
import { useUserStore } from '../../store/userStore';

const { Header, Sider, Content } = Layout;

const MainLayout: React.FC = () => {
  const navigate = useNavigate();
  const location = useLocation();
  const { user, logout } = useUserStore();
  const [collapsed, setCollapsed] = React.useState(false);

  const menuItems = [
    {
      key: '/dashboard',
      icon: <DashboardOutlined />,
      label: 'ä»ªè¡¨æ¿',
    },
    {
      key: '/process',
      icon: <ApartmentOutlined />,
      label: 'æµç¨‹ç®¡ç†',
    },
    {
      key: '/tasks',
      icon: <CheckSquareOutlined />,
      label: 'æˆ‘çš„ä»»åŠ¡',
    },
  ];

  const userMenuItems = [
    {
      key: 'profile',
      icon: <UserOutlined />,
      label: 'ä¸ªäººèµ„æ–™',
    },
    {
      key: 'settings',
      icon: <SettingOutlined />,
      label: 'è®¾ç½®',
    },
    {
      type: 'divider' as const,
    },
    {
      key: 'logout',
      icon: <LogoutOutlined />,
      label: 'é€€å‡ºç™»å½•',
      onClick: () => {
        logout();
        navigate('/login');
      },
    },
  ];

  const handleMenuClick = ({ key }: { key: string }) => {
    navigate(key);
  };

  return (
    <Layout style={{ minHeight: '100vh' }}>
      <Sider trigger={null} collapsible collapsed={collapsed}>
        <div className="logo">
          <h2 style={{ color: 'white', textAlign: 'center', margin: '16px 0' }}>
            {collapsed ? 'MF' : 'MiniFlow'}
          </h2>
        </div>
        <Menu
          theme="dark"
          mode="inline"
          selectedKeys={[location.pathname]}
          items={menuItems}
          onClick={handleMenuClick}
        />
      </Sider>
      <Layout>
        <Header style={{ padding: '0 16px', background: '#fff', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
          <Button
            type="text"
            icon={collapsed ? <MenuUnfoldOutlined /> : <MenuFoldOutlined />}
            onClick={() => setCollapsed(!collapsed)}
          />
          <div>
            <Dropdown menu={{ items: userMenuItems }} placement="bottomRight">
              <div style={{ cursor: 'pointer', display: 'flex', alignItems: 'center' }}>
                <Avatar icon={<UserOutlined />} src={user?.avatar} />
                <span style={{ marginLeft: 8 }}>{user?.display_name || user?.username}</span>
              </div>
            </Dropdown>
          </div>
        </Header>
        <Content style={{ margin: '16px', padding: '16px', background: '#fff', minHeight: 280 }}>
          <Outlet />
        </Content>
      </Layout>
    </Layout>
  );
};

export default MainLayout;
```

#### ä¸‹åˆ (4å°æ—¶)
**14:00-16:00 è·¯ç”±é…ç½®å’ŒAppç»„ä»¶ (2å°æ—¶)**

åˆ›å»º `src/components/auth/ProtectedRoute.tsx`:
```typescript
import React from 'react';
import { Navigate } from 'react-router-dom';
import { useUserStore } from '../../store/userStore';

interface ProtectedRouteProps {
  children: React.ReactNode;
}

const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children }) => {
  const { token } = useUserStore();

  if (!token) {
    return <Navigate to="/login" replace />;
  }

  return <>{children}</>;
};

export default ProtectedRoute;
```

åˆ›å»º `src/pages/dashboard/Dashboard.tsx`:
```typescript
import React from 'react';
import { Card, Row, Col, Statistic } from 'antd';
import { ApartmentOutlined, CheckSquareOutlined, ClockCircleOutlined } from '@ant-design/icons';

const Dashboard: React.FC = () => {
  return (
    <div>
      <h2>ä»ªè¡¨æ¿</h2>
      <Row gutter={16}>
        <Col span={8}>
          <Card>
            <Statistic
              title="æˆ‘çš„æµç¨‹"
              value={0}
              prefix={<ApartmentOutlined />}
            />
          </Card>
        </Col>
        <Col span={8}>
          <Card>
            <Statistic
              title="å¾…åŠä»»åŠ¡"
              value={0}
              prefix={<CheckSquareOutlined />}
            />
          </Card>
        </Col>
        <Col span={8}>
          <Card>
            <Statistic
              title="å·²å®Œæˆä»»åŠ¡"
              value={0}
              prefix={<ClockCircleOutlined />}
            />
          </Card>
        </Col>
      </Row>
    </div>
  );
};

export default Dashboard;
```

æ›´æ–° `src/App.tsx`:
```typescript
import React from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import { ConfigProvider } from 'antd';
import zhCN from 'antd/locale/zh_CN';
import Login from './pages/auth/Login';
import Register from './pages/auth/Register';
import MainLayout from './components/layout/MainLayout';
import Dashboard from './pages/dashboard/Dashboard';
import ProtectedRoute from './components/auth/ProtectedRoute';
import './App.css';

function App() {
  return (
    <ConfigProvider locale={zhCN}>
      <Router>
        <Routes>
          <Route path="/login" element={<Login />} />
          <Route path="/register" element={<Register />} />
          <Route
            path="/"
            element={
              <ProtectedRoute>
                <MainLayout />
              </ProtectedRoute>
            }
          >
            <Route index element={<Navigate to="/dashboard" replace />} />
            <Route path="dashboard" element={<Dashboard />} />
            <Route path="process" element={<div>æµç¨‹ç®¡ç†é¡µé¢å¼€å‘ä¸­...</div>} />
            <Route path="tasks" element={<div>ä»»åŠ¡ç®¡ç†é¡µé¢å¼€å‘ä¸­...</div>} />
          </Route>
        </Routes>
      </Router>
    </ConfigProvider>
  );
}

export default App;
```

**16:00-18:00 æ ·å¼å’Œæœ€ç»ˆé›†æˆæµ‹è¯• (2å°æ—¶)**

åˆ›å»º `src/App.css`:
```css
.login-container,
.register-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.login-card,
.register-card {
  width: 400px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.auth-links {
  text-align: center;
  margin-top: 16px;
}

.logo {
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom: 1px solid #f0f0f0;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .login-card,
  .register-card {
    width: 90%;
    margin: 0 16px;
  }
}
```

æ›´æ–° `src/main.tsx`:
```typescript
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.tsx'
import 'antd/dist/reset.css'
import './App.css'

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
```

#### ğŸ“ Day 5 äº¤ä»˜æ¸…å•
- [ ] ç™»å½•æ³¨å†Œé¡µé¢å®Œæˆ
- [ ] ä¸»å¸ƒå±€ç»„ä»¶å®ç°
- [ ] è·¯ç”±ä¿æŠ¤æœºåˆ¶å®Œæˆ
- [ ] åŸºç¡€ä»ªè¡¨æ¿é¡µé¢
- [ ] å‰åç«¯è”è°ƒæˆåŠŸ
- [ ] å“åº”å¼è®¾è®¡å®ç°

---

## ğŸ¯ ç¬¬1å‘¨æ€»ç»“

### âœ… å®Œæˆçš„åŠŸèƒ½
1. **é¡¹ç›®åŸºç¡€æ¶æ„**
   - Goåç«¯é¡¹ç›®ç»“æ„å®Œæ•´
   - Reactå‰ç«¯é¡¹ç›®æ­å»ºå®Œæˆ
   - Dockerå¼€å‘ç¯å¢ƒé…ç½®

2. **ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**
   - ç”¨æˆ·æ³¨å†Œã€ç™»å½•åŠŸèƒ½
   - JWTè®¤è¯æœºåˆ¶
   - ç”¨æˆ·çŠ¶æ€ç®¡ç†

3. **å‰ç«¯ç•Œé¢**
   - ç™»å½•æ³¨å†Œé¡µé¢
   - ä¸»å¸ƒå±€æ¡†æ¶
   - åŸºç¡€ä»ªè¡¨æ¿
   - å“åº”å¼è®¾è®¡

4. **æŠ€æœ¯åŸºç¡€**
   - GORMæ•°æ®åº“æ¨¡å‹
   - Echo Webæ¡†æ¶é›†æˆ
   - React + TypeScript + Ant Design
   - çŠ¶æ€ç®¡ç†å’Œè·¯ç”±é…ç½®

### ğŸ“Š ä»£ç ç»Ÿè®¡
- **åç«¯ä»£ç **: ~1500è¡Œ
- **å‰ç«¯ä»£ç **: ~1200è¡Œ
- **é…ç½®æ–‡ä»¶**: ~300è¡Œ
- **æ€»è®¡**: ~3000è¡Œä»£ç 

### ğŸ§ª æµ‹è¯•éªŒè¯
- [ ] ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½æ­£å¸¸
- [ ] ç”¨æˆ·ç™»å½•è·å–JWT Token
- [ ] è®¤è¯ä¸­é—´ä»¶æ‹¦æˆªæœªæˆæƒè¯·æ±‚
- [ ] å‰ç«¯é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] å‰åç«¯APIè°ƒç”¨æˆåŠŸ
- [ ] æ•°æ®åº“æ•°æ®æ­£ç¡®å­˜å‚¨

### ğŸ“ ä¸‹å‘¨å‡†å¤‡
- æµç¨‹å®šä¹‰æ•°æ®æ¨¡å‹è®¾è®¡
- æµç¨‹ç®¡ç†APIæ¥å£è§„åˆ’
- å‰ç«¯æµç¨‹åˆ—è¡¨é¡µé¢è®¾è®¡
- ReactFlowé›†æˆæ–¹æ¡ˆè°ƒç ”

---

**å¼€å‘è€…**: [å§“å]  
**å®Œæˆæ—¶é—´**: ç¬¬1å‘¨ Friday 18:00  
**ä¸‹å‘¨è®¡åˆ’**: æµç¨‹å®šä¹‰ç®¡ç†åŠŸèƒ½å¼€å‘
